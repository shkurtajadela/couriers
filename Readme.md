# Прогнозирование доступности курьеров

## Описание проекта

Целью проекта является разработка моделей прогнозирования для повышения точности оценки доступности курьеров и оптимизации их распределения.
Для этого будут созданы:
Модель предсказания вероятности возвращения курьера в ТТ (1-вернется, 0-нет)
Модель прогнозирования количества активных курьеров через 15, 30, 45 и 60 минут, учитывающая текущее местоположение курьеров и их онлайн-активность.
Дополнительно будут реализованы функции автоматического обновления прогнозов каждые 15 минут для обеспечения актуальных данных в реальном времени.


### Функционал

1. **Модель предсказания вероятности возвращения курьера**
   - Прогнозирует вероятность (0 - не вернется, 1 - вернется) с учетом:
     - Текущего статуса курьера (активен/не активен)
     - Истории работы курьера в текущий день
     - Количества доставленных заказов
     - Времени с начала смены
     - Исторических данных о поведении курьера
   - Обновляет прогноз каждые 15 минут
   - Использует обобщенные статистические данные для новых курьеров

2. **Модель прогнозирования количества активных курьеров**
   - Прогнозирует количество активных курьеров через 15, 30, 45 и 60 минут
   - Учитывает:
     - Текущее количество активных курьеров
     - Скорость выполнения заказов
     - Исторические данные о загруженности курьеров
     - Погодные условия (без учета спроса)
   - Обновляет прогноз каждые 15 минут

3. **Автоматизация прогнозирования**
   - Автоматическое обновление прогнозов каждые 15 минут
   - Данные поступают в модели автоматически из внешних источников (БД)

## Критерии и сроки выполнения

- **Сроки**: 3-4 недели (03.02.2025 - 01.03.2025)
- **Приемка**: Проведение тестирования моделей на отдельной выборке данных для оценки их предсказательной способности.

## Этапы разработки

1. **Неделя 1: Подготовка и обработка данных**
   - Сбор и анализ исторических данных (с 2023 года)
   - Поиск пропусков и аномалий
   - Подготовка данных: нормализация, трансформация, агрегация
   - Проверка корректности запросов к БД

2. **Неделя 2: Разработка моделей классификации**
   - Подбор признаков
   - Обучение моделей логистической регрессии, деревьев решений, CatBoost
   - Валидация моделей на тестовой выборке

3. **Неделя 3: Разработка моделей регрессии**
   - Обучение моделей полиномиальной регрессии, SARIMAX, LightGBM
   - Валидация моделей на тестовой выборке

4. **Неделя 4: Финализация и демонстрация**
   - Разработка дашборда для визуализации результатов
   - Автоматизация прогнозирования
   - Подготовка итоговой презентации

## Метрики оценки

- **Классификация вероятности возвращения курьера:**
  - Precision, Recall, F1-score
  - Log Loss (для выбора лучшего классификатора)

- **Прогнозирование количества курьеров:**
  - MAE (Mean Absolute Error)
  - RMSE (Root Mean Squared Error)
  - MAPE (Mean Absolute Percentage Error)

## Итоговые результаты
- Файлы с прогнозами
- Дашборд с визуализацией результатов
- Автоматизированный скрипт для обновления прогнозов

